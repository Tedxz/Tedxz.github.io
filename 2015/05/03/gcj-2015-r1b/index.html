<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>Google Code Jam 2015 - Round 1B | Zheng Xie&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="上一场已经晋级的我昨晚陪华哥打第二场，比赛从晚上12点开始持续两个半小时，果断又不能早睡了。这次的题目不是很对胃口（笑），华哥手滑未能晋级，一周后我们又可以开心地打第三场了。
像上次一样，这次共有三道题：

A. Counter Culture
B. Noisy Neighbors
C. Hiking Deer">
<meta property="og:type" content="article">
<meta property="og:title" content="Google Code Jam 2015 - Round 1B">
<meta property="og:url" content="http://tedxz.github.io/2015/05/03/gcj-2015-r1b/index.html">
<meta property="og:site_name" content="Zheng Xie's Blog">
<meta property="og:description" content="上一场已经晋级的我昨晚陪华哥打第二场，比赛从晚上12点开始持续两个半小时，果断又不能早睡了。这次的题目不是很对胃口（笑），华哥手滑未能晋级，一周后我们又可以开心地打第三场了。
像上次一样，这次共有三道题：

A. Counter Culture
B. Noisy Neighbors
C. Hiking Deer">
<meta property="og:image" content="http://tedxz.github.io/image/2015-05-03-gcj-2015-r1b/fig1.png">
<meta property="og:updated_time" content="2016-07-26T16:40:11.591Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Google Code Jam 2015 - Round 1B">
<meta name="twitter:description" content="上一场已经晋级的我昨晚陪华哥打第二场，比赛从晚上12点开始持续两个半小时，果断又不能早睡了。这次的题目不是很对胃口（笑），华哥手滑未能晋级，一周后我们又可以开心地打第三场了。
像上次一样，这次共有三道题：

A. Counter Culture
B. Noisy Neighbors
C. Hiking Deer">
<meta name="twitter:image" content="http://tedxz.github.io/image/2015-05-03-gcj-2015-r1b/fig1.png">
  
    <link rel="alternative" href="/atom.xml" title="Zheng Xie&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600' rel='stylesheet' type='text/css'>
  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,700" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  

  
<!-- Baidu Tongji -->
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?d9024b8d3d6c0966a3865ec1deaa6d16";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
<!-- End Baidu Tongji --><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>

<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="container">
    <div id="wrap">
      <header id="header">
  <div id="header-outer" class="outer">
    <a href="/" class="logo">Zheng Xie&#39;s Blog</a>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archive">Archive</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <div id="search-form-wrap">
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://tedxz.github.io"></form>
        </div>
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        
          <a id="nav-github-link" class="nav-icon" href="https://github.com/tedxz" title="Fork me on GitHub"></a>
        
      </nav>
    </div>
  </div>
</header>

      <nav id="mobile-nav" class="off">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archive" class="mobile-nav-link">Archive</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
  <div id="search-form-wrap-mobile">
    <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://tedxz.github.io"></form>
  </div>
</nav>
      <div class="outer">
        
          <aside id="sidebar">
  
    <!-- following commented lines are original tag cloud -->
<!-- 
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Algorithm/" style="font-size: 10px;">Algorithm</a> <a href="/tags/Algorithm-Contest/" style="font-size: 15px;">Algorithm Contest</a> <a href="/tags/Bluetooth/" style="font-size: 10px;">Bluetooth</a> <a href="/tags/C/" style="font-size: 10px;">C++</a> <a href="/tags/Coursera/" style="font-size: 10px;">Coursera</a> <a href="/tags/Data-Minning/" style="font-size: 10px;">Data Minning</a> <a href="/tags/Decision-Tree/" style="font-size: 10px;">Decision Tree</a> <a href="/tags/Diary/" style="font-size: 17.5px;">Diary</a> <a href="/tags/Dualboot/" style="font-size: 12.5px;">Dualboot</a> <a href="/tags/Google-Codejam/" style="font-size: 15px;">Google Codejam</a> <a href="/tags/Hagashino-Keiko/" style="font-size: 10px;">Hagashino Keiko</a> <a href="/tags/Image-Classification/" style="font-size: 10px;">Image Classification</a> <a href="/tags/Intern/" style="font-size: 10px;">Intern</a> <a href="/tags/Linear-Regression/" style="font-size: 10px;">Linear Regression</a> <a href="/tags/Linux/" style="font-size: 12.5px;">Linux</a> <a href="/tags/Literature/" style="font-size: 10px;">Literature</a> <a href="/tags/Logistic-Regression/" style="font-size: 12.5px;">Logistic Regression</a> <a href="/tags/Machine-Learning/" style="font-size: 20px;">Machine Learning</a> <a href="/tags/Network/" style="font-size: 10px;">Network</a> <a href="/tags/Personal-Review/" style="font-size: 12.5px;">Personal Review</a> <a href="/tags/Regularization/" style="font-size: 10px;">Regularization</a> <a href="/tags/STL/" style="font-size: 10px;">STL</a> <a href="/tags/Skill/" style="font-size: 15px;">Skill</a> <a href="/tags/Supprot-Vector-Machine/" style="font-size: 10px;">Supprot Vector Machine</a> <a href="/tags/Trip/" style="font-size: 10px;">Trip</a> <a href="/tags/Windows/" style="font-size: 10px;">Windows</a>
    </div>
  </div>
 -->

<!-- following lines are new tag cloud -->

    <script type="text/javascript" charset="utf-8" src="/js/tagcloud.js"></script>
    <script type="text/javascript" charset="utf-8" src="/js/tagcanvas.js"></script>
    <div class="widget-wrap">
        <h3 class="widget-title">tagcloud</h3>
        <div id="myCanvasContainer" class="widget tagcloud">
            <canvas width="190" height="190" id="resCanvas" style="width=50%">
                <a href="/tags/Algorithm/" style="font-size: 10px;">Algorithm</a> <a href="/tags/Algorithm-Contest/" style="font-size: 15px;">Algorithm Contest</a> <a href="/tags/Bluetooth/" style="font-size: 10px;">Bluetooth</a> <a href="/tags/C/" style="font-size: 10px;">C++</a> <a href="/tags/Coursera/" style="font-size: 10px;">Coursera</a> <a href="/tags/Data-Minning/" style="font-size: 10px;">Data Minning</a> <a href="/tags/Decision-Tree/" style="font-size: 10px;">Decision Tree</a> <a href="/tags/Diary/" style="font-size: 17.5px;">Diary</a> <a href="/tags/Dualboot/" style="font-size: 12.5px;">Dualboot</a> <a href="/tags/Google-Codejam/" style="font-size: 15px;">Google Codejam</a> <a href="/tags/Hagashino-Keiko/" style="font-size: 10px;">Hagashino Keiko</a> <a href="/tags/Image-Classification/" style="font-size: 10px;">Image Classification</a> <a href="/tags/Intern/" style="font-size: 10px;">Intern</a> <a href="/tags/Linear-Regression/" style="font-size: 10px;">Linear Regression</a> <a href="/tags/Linux/" style="font-size: 12.5px;">Linux</a> <a href="/tags/Literature/" style="font-size: 10px;">Literature</a> <a href="/tags/Logistic-Regression/" style="font-size: 12.5px;">Logistic Regression</a> <a href="/tags/Machine-Learning/" style="font-size: 20px;">Machine Learning</a> <a href="/tags/Network/" style="font-size: 10px;">Network</a> <a href="/tags/Personal-Review/" style="font-size: 12.5px;">Personal Review</a> <a href="/tags/Regularization/" style="font-size: 10px;">Regularization</a> <a href="/tags/STL/" style="font-size: 10px;">STL</a> <a href="/tags/Skill/" style="font-size: 15px;">Skill</a> <a href="/tags/Supprot-Vector-Machine/" style="font-size: 10px;">Supprot Vector Machine</a> <a href="/tags/Trip/" style="font-size: 10px;">Trip</a> <a href="/tags/Windows/" style="font-size: 10px;">Windows</a>
            </canvas>
        </div>
    </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/07/21/large-margin-distribution-learning/">机器学习中的“Margin”</a>
          </li>
        
          <li>
            <a href="/2016/05/05/secret-higashino-keiko/">《秘密》- 东野圭吾</a>
          </li>
        
          <li>
            <a href="/2016/04/16/routing-between-multiple-networks/">Routing Among Multiple Networks</a>
          </li>
        
          <li>
            <a href="/2015/10/12/away-from-beijing/">离开北京</a>
          </li>
        
          <li>
            <a href="/2015/06/13/reivew-of-second-semester-in-junior/">记即将过去的大三下学期</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Algorithm/">Algorithm</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Algorithm-Contest/">Algorithm Contest</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Diary/">Diary</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Literature/">Literature</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Machine-Learning/">Machine Learning</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Skill/">Skill</a><span class="category-list-count">5</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archive/2016/07/">July 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archive/2016/05/">May 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archive/2016/04/">April 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archive/2015/10/">October 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archive/2015/06/">June 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archive/2015/05/">May 2015</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archive/2015/04/">April 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archive/2015/03/">March 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archive/2015/02/">February 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archive/2015/01/">January 2015</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archive/2014/12/">December 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archive/2014/10/">October 2014</a><span class="archive-list-count">2</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Algorithm/">Algorithm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Algorithm-Contest/">Algorithm Contest</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Bluetooth/">Bluetooth</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C++</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Coursera/">Coursera</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Data-Minning/">Data Minning</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Decision-Tree/">Decision Tree</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Diary/">Diary</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Dualboot/">Dualboot</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Google-Codejam/">Google Codejam</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hagashino-Keiko/">Hagashino Keiko</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Image-Classification/">Image Classification</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Intern/">Intern</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linear-Regression/">Linear Regression</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Literature/">Literature</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Logistic-Regression/">Logistic Regression</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Machine-Learning/">Machine Learning</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Network/">Network</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Personal-Review/">Personal Review</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Regularization/">Regularization</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/STL/">STL</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Skill/">Skill</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Supprot-Vector-Machine/">Supprot Vector Machine</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Trip/">Trip</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Windows/">Windows</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">links</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="http://plypy.github.io">Ply_py</a>
          </li>
        
          <li>
            <a href="http://shirleychen.net/">十七君</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
        <section id="main"><article id="post-gcj-2015-r1b" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/05/03/gcj-2015-r1b/" class="article-date">
  <time datetime="2015-05-03T03:32:38.000Z" itemprop="datePublished">2015-05-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Algorithm-Contest/">Algorithm Contest</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Google Code Jam 2015 - Round 1B
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>上一场已经晋级的我昨晚陪华哥打第二场，比赛从晚上12点开始持续两个半小时，果断又不能早睡了。<br>这次的题目不是很对胃口（笑），华哥手滑未能晋级，一周后我们又可以开心地打第三场了。</p>
<p>像上次一样，这次共有三道题：</p>
<ul>
<li>A. Counter Culture</li>
<li>B. Noisy Neighbors</li>
<li>C. Hiking Deer</li>
</ul>
<a id="more"></a>
<hr>
<h2 id="A-Counter-Culture"><a href="#A-Counter-Culture" class="headerlink" title="A. Counter Culture"></a>A. Counter Culture</h2><p>In the Counting Poetry Slam, a performer takes the microphone, chooses a number <b>N</b>, and counts aloud from 1 to <b>N</b>. That is, she starts by saying 1, and then repeatedly says the number that is 1 greater than the previous number she said, stopping after she has said <b>N</b>.</p>
<p>It’s your turn to perform, but you find this process tedious, and you want to add a twist to speed it up: sometimes, instead of adding 1 to the previous number, you might reverse the digits of the number (removing any leading zeroes that this creates). For example, after saying “16”, you could next say either “17” or “61”; after saying “2300”, you could next say either “2301” or “32”. You may reverse as many times as you want (or not at all) within a performance.</p>
<p>The first number you say must be 1; what is the fewest number of numbers you will need to say in order to reach the number <b>N</b>? 1 and <b>N</b> count toward this total. If you say the same number multiple times, each of those times counts separately.</p>
<h3>Input</h3>

<p>The first line of the input gives the number of test cases, <b>T</b>. <b>T</b> lines follow. Each has one integer <b>N</b>, the number you must reach.</p>
<h3>Output</h3>

<p>For each test case, output one line containing “Case #x: y”, where x is the test case number (starting from 1) and y is the minimum number of numbers you need to say.</p>
<h3>Limits</h3>

<p>1 ≤ <b>T</b> ≤ 100.</p>
<h4>Small dataset</h4>

<p>1 ≤ <b>N</b> ≤ 10<sup>6</sup>.</p>
<h4>Large dataset</h4>

<p>1 ≤ <b>N</b> ≤ 10<sup>14</sup>.</p>
<hr>
<h2 id="A-Solution"><a href="#A-Solution" class="headerlink" title="A. Solution"></a>A. Solution</h2><p>题目大意：从1开始报数，每次可以在刚刚报过数字的基础上加一，或者将刚刚报过的数字翻转。问最少几步可以报到给定的数字。</p>
<p>小数据的范围10<sup>6</sup>，可以用O(n)时间复杂度的算法暴力求解。</p>
<p>正确的方法是进行BFS广度优先搜索。首先将1加入队列，然后对于队列中的每一个数字扩展（判重）后加入队列。数据规模是10<sup>6</sup>，因此对于超过这一范围的数字不再进行扩展。</p>
<p>前面我们提到，翻转有可能使数字从大变小，那么当给定数字n在范围10<sup>6</sup>内，会不会出现先报过超过10<sup>6</sup>的数字，再通过翻转变小呢？通过观察BFS扩展的情况我们发现，<strong>最短路径上的翻转扩展并不会使数字变小</strong>。</p>
<blockquote>
<p>嗯，观察数据找规律的确是很重要的技巧。</p>
</blockquote>
<p>将BFS过程中数字翻转进行的扩展情况输出，我们可以看到下面的内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">...</div><div class="line">1074 -&gt; 4701</div><div class="line">1075 -&gt; 5701</div><div class="line">1076 -&gt; 6701</div><div class="line">1077 -&gt; 7701</div><div class="line">1078 -&gt; 8701</div><div class="line">1079 -&gt; 9701</div><div class="line">1081 -&gt; 1801</div><div class="line">1082 -&gt; 2801</div><div class="line">1083 -&gt; 3801</div><div class="line">1084 -&gt; 4801</div><div class="line">1085 -&gt; 5801</div><div class="line">1086 -&gt; 6801</div><div class="line">1087 -&gt; 7801</div><div class="line">1088 -&gt; 8801</div><div class="line">1089 -&gt; 9801</div><div class="line">1091 -&gt; 1901</div><div class="line">1092 -&gt; 2901</div><div class="line">1093 -&gt; 3901</div><div class="line">1094 -&gt; 4901</div><div class="line">1095 -&gt; 5901</div><div class="line">1096 -&gt; 6901</div><div class="line">1097 -&gt; 7901</div><div class="line">1098 -&gt; 8901</div><div class="line">1099 -&gt; 9901</div><div class="line">10002 -&gt; 20001</div><div class="line">10003 -&gt; 30001</div><div class="line">10004 -&gt; 40001</div><div class="line">10005 -&gt; 50001</div><div class="line">10006 -&gt; 60001</div><div class="line">...</div></pre></td></tr></table></figure>
<p>通过观察BFS过程中的数字翻转扩展，我们发现最短路径上的翻转总是出现在数字的前半部分是1000..的情况。换句话说，我们从n开始倒推的时候，通过判断数字的形式就可以知道它是通过小数字加一得来还是翻转得来。如果数字的后一半是…0001(且该数字不是回文的形式），我们将其翻转，否则则是一步一步减小到后一半为…0001。这种方法可以迅速将数字缩小并累计得到答案。</p>
<hr>
<h2 id="B-Noisy-Neighbors"><a href="#B-Noisy-Neighbors" class="headerlink" title="B. Noisy Neighbors"></a>B. Noisy Neighbors</h2><p>You are a landlord who owns a building that is an <b>R</b> x <b>C</b> grid of apartments; each apartment is a unit square cell with four walls. You want to rent out <b>N</b> of these apartments to tenants, with exactly one tenant per apartment, and leave the others empty. Unfortunately, all of your potential tenants are noisy, so whenever any two occupied apartments share a wall (and not just a corner), this will add one point of <i>unhappiness</i> to the building. For example, a 2x2 building in which every apartment is occupied has four walls that are shared by neighboring tenants, and so the building’s unhappiness score is 4.</p>
<p>If you place your <b>N</b> tenants optimally, what is the minimum unhappiness value for your building?</p>
<h3>Input</h3>

<p>The first line of the input gives the number of test cases, <b>T</b>. <b>T</b> lines follow; each contains three space-separated integers: <b>R</b>, <b>C</b>, and <b>N</b>.</p>
<h3>Output</h3>

<p>For each test case, output one line containing “Case #x: y”, where x is the test case number (starting from 1) and y is the minimum possible unhappiness for the building.</p>
<h3>Limits</h3>

<p>1 ≤ <b>T</b> ≤ 1000.<br>0 ≤ <b>N</b> ≤ <b>R*C</b>.</p>
<h4>Small dataset</h4>

<p>1 ≤ <b>R*C</b> ≤ 16.</p>
<h4>Large dataset</h4>

<p>1 ≤ <b>R*C</b> ≤ 10000.</p>
<hr>
<h2 id="B-Solution"><a href="#B-Solution" class="headerlink" title="B. Solution"></a>B. Solution</h2><p>题目大意：有R*C个网格状排列的房间，要将其中n个房间安排房客。由于噪音问题，每一对占用相邻房间（共用同一堵墙）的客人会对整个建筑累计1的不愉快度。给定R、C和n，求累积的不愉快度最小值。</p>
<p>对于小数据，我们可以暴力枚举每个房间是否住人，计算答案选择最小的即可。</p>
<p>对于大数据，我们有这样一个结论：<strong>所有的客人先按照国际象棋棋盘那样对角相邻安置（此时不愉快度为0），剩下的客人按照相邻房客较少的原则贪心地安排在剩下的房间中即可总不愉快度最小</strong>。我这里无法给出这个结论的证明，有了解的同学可以评论或联系我~</p>
<p>按照棋盘装对角安置通常的做法是使用横纵坐标和的奇偶性把房间划分成两类，两类房间各自全部占满都不会有不愉快度。计算答案的时候应该分别计算优先安置奇数号房间和优先安置偶数号房间两种情况，选其中较优的。</p>
<hr>
<h2 id="C-Hiking-Deer"><a href="#C-Hiking-Deer" class="headerlink" title="C. Hiking Deer"></a>C. Hiking Deer</h2><p>Herbert Hooves the deer is going for a hike: one clockwise loop around his favorite circular trail, starting at degree zero. Herbert has perfect control over his speed, which can be <i>any</i> nonnegative value (not necessarily an integer) at any time – he can change his speed instantaneously whenever he wants. When Herbert reaches his starting point again, the hike is over.</p>
<p>The trail is also used by human hikers, who also walk clockwise around the trail. Each hiker has a starting point and moves at her own constant speed. Humans continue to walk around and around the trail forever.</p>
<p>Herbert is a skittish deer who is afraid of people. He does not like to have encounters with hikers. An encounter occurs whenever Herbert and a hiker are in exactly the same place at the same time. You should consider Herbert and the hikers to be points on the circumference of a circle.</p>
<p>Herbert can have multiple separate encounters with the same hiker.</p>
<p>If more than one hiker is encountered at the same instant, all of them count as separate encounters.</p>
<p>Any encounter at the exact instant that Herbert finishes his hike still counts as an encounter.</p>
<p>If Herbert were to have an encounter with a hiker and then change his speed to exactly match that hiker’s speed and follow along, he would have infinitely many encounters! Of course, he must never do this.</p>
<p>Encounters do not change the hikers’ behavior, and nothing happens when hikers encounter each other.</p>
<p>Herbert knows the starting position and speed of each hiker. What is the minimum number of encounters with hikers that he can possibly have?</p>
<h3>Solving this problem</h3>

<p>Usually, Google Code Jam problems have 1 Small input and 1 Large input. This problem has 2 Small inputs and 1 Large input. You must solve the first Small input before you can attempt the second Small input; as usual, you will be able to retry the Small inputs (with a time penalty). Once you have solved both Small inputs, you will be able to download the Large input; as usual, you will get only one chance at the Large input.</p>
<h3>Input</h3>

<p>The first line of the input gives the number of test cases, <b>T</b>. <b>T</b> test cases follow. Each begins with one line with an integer <b>N</b>, and is followed by <b>N</b> lines, each of which represents a <i>group</i> of hikers starting at the same position on the trail. The <b>i</b>th of these lines has three space-separated integers: a starting position <b>D<sub>i</sub></b> (representing <b>D<sub>i</sub></b>/360ths of the way around the trail from the deer’s starting point), the number <b>H<sub>i</sub></b> of hikers in the group, and <b>M<sub>i</sub></b>, the amount of time (in minutes) it takes for the fastest hiker in that group to make each complete revolution around the circle. The other hikers in that group each complete a revolution in <b>M<sub>i</sub></b>+1, <b>M<sub>i</sub></b>+2, …, <b>M<sub>i</sub></b>+<b>H<sub>i</sub></b>-1 minutes. For example, the line</p>
<p><code>180 3 4</code></p>
<p>would mean that three hikers begin halfway around the trail from the deer’s starting point, and that they take 4, 5, and 6 minutes, respectively, to complete each full revolution around the trail.</p>
<p>Herbert always starts at position 0 (0/360ths of the way around the circle), and no group of hikers does. Multiple groups of hikers may begin in the same place, but no two hikers will both begin in the same place and have the same speed.</p>
<h3>Output</h3>

<p>For each test case, output one line containing “Case #x: y”, where x is the test case number (starting from 1) and y is the minimum number of encounters with hikers that the deer can have.</p>
<h3>Limits</h3>

<p>1 ≤ <b>T</b> ≤ 100.<br>1 ≤ <b>D<sub>i</sub></b> ≤ 359.<br>1 ≤ <b>N</b> ≤ 1000.<br>1 ≤ <b>H<sub>i</sub></b>.<br>1 ≤ <b>M<sub>i</sub></b> ≤ 10<sup>9</sup>. (Note that this only puts a cap on the time required for the <i>fastest</i> hiker in each group to complete a revolution.  Slower hikers in the group will take longer.)</p>
<hr>
<h2 id="C-Solution"><a href="#C-Solution" class="headerlink" title="C. Solution"></a>C. Solution</h2><p>这个题目的确有些难度，以至于Google给了这个题目两组小数据一组大数据，分数分别是13、16、19。如果想不出标准算法，过小数据的程序需要判断很多边界情况，也很难实现。</p>
<p>题目大意：一直梅花鹿打算绕环形公路顺时针跑一圈，最初在相角为0的位置。同时公路上不同位置还有很多人也在顺时针跑步，每个人在初始时刻有一个位置（相角），速度恒定。梅花鹿不喜欢见人，希望在跑步过程中遭遇最少的人次。求最少可以遭遇的人次数。</p>
<p><img src="/image/2015-05-03-gcj-2015-r1b/fig1.png" alt=""></p>
<p>我们画出跑步的人和鹿的时空图，其中红线和蓝线分别代表了两个跑步的人，虚线代表了梅花鹿。虚线与其他线的每一个交点即意味着一次相遇。图中梅花鹿是匀速运动的，而题目中强调梅花鹿的速度可以随时任意变换——但这并不会影响结果：对于一个确定的梅花鹿时刻和位置的末状态(phi,t)和初始状态(0,0)，如果这两个点在某条线段的一上一下，那么至少有一个交点，无论梅花鹿的轨迹是直线段或是曲线段。对于初始和结束点都重合的情况，我们可以不考虑，不会影响答案的正确性（因为可以微调终点使得相遇次数减少）。</p>
<p><strong>假设一共有U个跑步者，那么答案一定不会超过U。</strong>梅花鹿以极快的速度超过所有人，遭遇每人一次，答案即为U。在时空图上即为一条很贴近角度轴的线段。</p>
<p>如何将答案进一步缩小呢？我们减慢速度，使得少超过一部分人。在时空图上的体现表现为梅花鹿的终状态沿着直线phi=360这条直线向上移动。终点每跨越一个线段，可能是原来超过的一个跑者变为了不超过这个跑者，此时应该将答案减小1；也可能是被一个跑者超过了（此时这个跑者之前一定先从被梅花鹿超过变成不被超过1次，然后赶超了梅花鹿0次或多次），此时答案应该增加1。</p>
<p>我们分别统计梅花鹿超过的人次和被人超过的次数，相加即为答案。初始的解是超过人次为n（每人一次），被超过0次。然后按照每个人到达360度位置的时间枚举梅花鹿跑完的时间。随着这一时间增加，超过的人次减少，被超过的次数增加。当被超过的次数达到U，我们就不可能得到更好的解了，此时可以退出并返回已经遇到的最优解。</p>

      
    </div>

    <footer class="article-footer">
      
        <a data-url="http://tedxz.github.io/2015/05/03/gcj-2015-r1b/" data-id="cisy8bsy400211dbfwphsfpyn" class="article-share-link" data-share="baidu">share</a>
      

      
        <a href="http://tedxz.github.io/2015/05/03/gcj-2015-r1b/#ds-thread" class="article-comment-link">Comments</a>
      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Algorithm-Contest/">Algorithm Contest</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Google-Codejam/">Google Codejam</a></li></ul>

    </footer>

  </div>

  
    
<nav id="article-nav">
  
    <a href="/2015/05/03/enumerate-nums-by-1-bits/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          按照1的个数枚举数字
        
      </div>
    </a>
  
  
    <a href="/2015/04/18/gcj-2015-r1a/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Google Code Jam 2015 - Round 1A</div>
    </a>
  
</nav>

  
</article>


  <section id="comments">
    <div id="ds-thread" class="ds-thread" data-thread-key="2015/05/03/gcj-2015-r1b/" data-title="Google Code Jam 2015 - Round 1B" data-url="http://tedxz.github.io/2015/05/03/gcj-2015-r1b/"></div>
  </section>

</section>
      </div>
      <footer id="footer">
  
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"> </script>
  <div class="outer">
    <div id="footer-info" class="inner">
      <a href="/" class="logo">Zheng Xie&#39;s Blog</a>
      &copy; 2017 Zheng Xie<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> | Themed by <a href="https://github.com/ppoffice/hexo-theme-alex">Alex</a><br>
    </div>
  </div>
</footer>

    </div>
    
<!-- 多说公共js代码 start -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"Tedxz"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- 多说公共js代码 end -->


<!-- 百度分享 start -->

<div id="article-share-box" class="article-share-box">
  <div id="bdshare" class="bdsharebuttonbox article-share-links">
    <a class="article-share-weibo" data-cmd="tsina" title="分享到新浪微博"></a>
    <a class="article-share-weixin" data-cmd="weixin" title="分享到微信"></a>
    <a class="article-share-qq" data-cmd="sqq" title="分享到QQ"></a>
    <a class="article-share-renren" data-cmd="renren" title="分享到人人网"></a>
    <a class="article-share-more" data-cmd="more" title="更多"></a>
  </div>
</div>
<script>window._bd_share_config={"common":{},"share":{"bdCustomStyle":"nocss.css"}};with(document)0[(getElementsByTagName("head")[0]||body).appendChild(createElement("script")).src="http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion="+~(-new Date()/36e5)];</script>

<!-- 百度分享 end -->

<!-- fancybox begin -->


<script src="/js/jquery.min.js"></script>
<script src="/js/jquery.scrollLoading.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>

  <link rel="stylesheet" href="/fancybox/helpers/jquery.fancybox-buttons.css">
  <script src="/fancybox/helpers/jquery.fancybox-buttons.js"></script>

  <link rel="stylesheet" href="/fancybox/helpers/jquery.fancybox-thumbs.css">
  <script src="/fancybox/helpers/jquery.fancybox-thumbs.js"></script>



<script src="/js/script.js"></script>
<!-- fancybox end -->

  </div>
<!-- the next line is mathjax contained in theme alex. -->
<!-- mathjax config similar to math.stackexchange -->
<!-- commented to disable -->

<!-- <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script> --><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</body>
</html>
